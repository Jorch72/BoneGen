# BoneGen
Herringbone Wang Tile dungeon generators

The original work done by Sean T. Barrett on [Herringbone Wang Tile dungeon generation](http://nothings.org/gamedev/herringbone/) produces some very high-quality dungeons, but the [C library](https://github.com/nothings/stb/blob/master/stb_herringbone_wang_tile.h) he graciously made available is hard to integrate into non-C/C++ applications.
Here, I modified the STB source to output JSON instead of a bitmap, and used that JSON in a C# loader.
The plan is to keep porting, using the JSON in similar ways in different languages.

## How to Use
The library works primarily by generating 2D char arrays to use as dungeons.

### In Java
You can use a slightly-augmented version of this dungeon generator via [Cuttlebone](https://github.com/tommyettinger/cuttlebone), which is on [Maven Central](http://search.maven.org/#artifactdetails%7Ccom.github.tommyettinger%7Ccuttlebone%7C1.96.0%7Cjar) and can be fetched with Maven, Gradle, Scala's SBT, Clojure's Leiningen, or similar tools using the instructions on that page.  Cuttlebone also features Field of View code from Eben Howard's fantastic library [SquidLib](https://github.com/SquidPony/SquidLib), but with the graphical display code removed to maximize portability. Cuttlebone's one dependency is Google GSON, a JSON parser lib.
An example: 
```java
import squid.squidgrid.map.styled.*;
public class Example
{
    public static void main( String[] args )
    {
        DungeonGen dg = new DungeonGen();
        for(TilesetType tt : TilesetType.values())
        {
            dg.generate(tt, 80, 80);
            dg.wallWrap();
            System.out.println(dg + "\n");
        }
    }
}
```

### In CSharp
It isn't available on NuGet yet, but there's a download available in the Releases section of this project. Usage is similar to Cuttlebone's DungeonGen, but it doesn't store the char[,] for later (yet, that should be a feature soon). BoneGen in C# has one dependency, JSON.NET. An example:
```csharp
using BoneGen;
namespace MyStuff
{
    public class Example
    {
        public static void Main(string[] args)
        {
            int height = 80, width = 80;
            BoneGen bg = new BoneGen();
            char[,] dungeon = WallWrap(bg.Generate(TilesetType.DEFAULT_DUNGEON, height, width));
            for (int y = 0; y < height; y++)
            {
                for (int x = 0; x < width; x++)
                {
                    Console.Write(dungeon[y, x]);
                }
            }
        }
    }
}
```
## License
Released into the public domain with the Unlicense (see LICENSE file in this directory).

## Sample output
Using the TilesetType `ROUND_ROOMS_DIAGONAL_CORRIDORS`:
```
################################################################################
########..............############......############....############...........#
########...............##########.......############.....############..........#
########...............#########..........##########.....###########...........#
########...............########.............#########.....#########............#
#######.................######...............########.....#########............#
#.####.....##....#......#####.....#####.......########....#########.....#....#.#
#........##########.......#.....#######........#######.....#######......########
#.......#############..........#######..........######........#.......##########
#.......##############........########.....##....######..............###########
##......##############.......#########....####.....####............#############
###....###############......#########.....#####.....##.............#############
###.....##############.....#########.....######...................##############
####....##############....##########....########...................#############
#####....############....##########....##########..................#############
######....##########.....#########....############.................#############
#######....#######.........#####.....##############................###########.#
########....#####...........###.......##############...................######..#
########......##.............#.........#############......................##...#
#####..........#.............#.........#############.............###.......#...#
###....................................#############............#####..........#
##.....................................############......#....##########.......#
#...........##..........................##########......##################.....#
#............##...............#..........##....#.......####################....#
#............##...............##......................#####################....#
#............###.............########.................######################...#
#............###.............#########...............############.....######...#
##..........#####...........###########.............###########.........#####..#
##..........######.........###########..............##########...........#####.#
###........#########.....#############..............#########.............######
#####....############....#############..............#########.............######
######################....############..............########...............#####
######################.....############.............########...............#####
########.....#########.....###########..............########...............#####
######........#########.....#########................#######...............###.#
#####..........########.....#########................#######...............###.#
#####...........########....#########.....#....#......#####.................#..#
#####......#.....#######.....#######......########.....##......................#
#.##.......###....######........#.......###########..........#...........#.....#
#.........#####....######..............#############........###.........###....#
#......#########.....####............###############.......######......#####...#
#......##########.....##.............################.....########.....######..#
#.....###########...................#################....#########....##########
#......###########...................###############....##########....##########
#......############..................##############....##########....###########
#......#############.................#############....#########.....############
#......##############..................##########....########.........##########
#.....################....................#######...########...........#########
#.....################......................####....#######.............########
#......###############.......................###....#######.............########
#......###############............####..............######................######
#.#......############......#....##########...........#####.................#####
#####......#########......##################..........####..................##.#
######.....##....#.......###########...######.........####.....................#
#######.................##########.......#####........####...............#.....#
########................#########.........####........#####.............###....#
########...............#########...........####......######.............####...#
#########.............##########...........#####....########...........######..#
########..............#########.............#####....########.........########.#
########..............#########.............######....#########.....############
########..............#########.............#######....#########....############
########................########...........#########....#########....###########
#####....................#######...........##########...#########.....##########
####.......................######...........#########....#######......##########
##..........................######..........######.......######........#########
#..................####......#####.....##....###.........####...........########
#..................#####......###....#####....#...........##............########
#....###............######..........#######...............#.............########
#..#####............########........########............................########
########............#########......##########................#..........########
########............##########.....##########...............##..........########
#########..........############......########..............####........#########
#########..........#############......#######..............#####......##########
######...............#############....########............########....##########
#####....###....##....#############....#######............#######....###########
####....###########....#############....#######..........#######....############
###.....############....#...#########....#######........#######....#############
###....#############..........#######....#########....########........##########
##.....##############..........######....####################.............######
################################################################################
```

Using the TilesetType `DEFAULT_DUNGEON`:
```
################################################################################
#....########......##.......######..#####.......####.......###############.....#
#.....######................######......#........###..........############.....#
#......####............##...#..............#......##...........#####...#####...#
#.......##....###......##..................#..#...##...........####.....####...#
#.##....##....####.....##.......#####......#.....###............##.......###...#
#.##....##....#####....##.......#................###.....................###...#
####...####...###########..##...#............#..####.......##............###...#
####...####...#########.....#####......##......#####.......##........##........#
####..######..#########.....########...###.....#####..#########.....###........#
####..######..############..########...#####..######..#########.....############
#..#.....##..................#######...#####.....##......######......###########
#..#......#.......................##...#####...............###.............#####
#..#......#..#########..###.......######.#####.............###....#........#...#
#..####...#..##..........##..###..######..####.......##.....#.....##..###..#...#
#.....#......##..........##..###..##.......###........###.........##..#........#
#.....#......###..#########..###...........###..........##........###.#........#
#..####......................###......##...###...........##......######........#
#........##..................#######..###........###.....####....######........#
#........#####..######..############..###........###.....#####..#########.....##
############.....#####......########..################..######......#####.....##
###########........###.............#..#############........###..............####
#........##........###.............#.........######........#................#..#
#.........#........###.........#...#.........#....#..####..#......###########..#
######....####.....###....######...#..#####..#....#.....#..#..##...............#
#............##....###....#....#####..###...............#..#..##...............#
#.............###.........#....#......###...............#.........##############
#.........#...............#...........###.........#.....#......................#
#........##........#####..#...........###........############..................#
######..######.....#####..######......#####.....################..#####..#######
######..##############.....#####..#########.....###........##......#####......##
######..###........##........###................###........###.....#####......##
#....#.............##......................................####..##########...##
#....#......##..#...#..##..........##..####..................##..#...#....#....#
#.#..#..##..##..#...#..###........##......#########..............#...#....#....#
#.......##......#......####......##..........######..............#...#....####.#
#.#.....##......#......#####....##............#####.......................####.#
#....#..###.##..###.#########...#....##........####...........#................#
#....#..#####.....###.......#####....#####......###........####..#######.......#
##..#########.....###........###.....#####......########..#####......###.....###
##......#####.....####..##...###.....#####..#########.....#####......#####..####
##......#.........###....##..###.......##...........#.....#########..##........#
##......#................##..#####.....##...........#..........####..##........#
##......#..####...........#..#...##....####..########..#.......####...#..####..#
###....##..####...........#..#....##...##.....#........#....#...###...#..#..#..#
####..###..####...........#........##..##.....#........#....#...###......#..#..#
#..........#.............##.........#......#..#....#........##..###......#..#..#
#..........#.......##....##..#......#......#..#....#......####........####..#..#
####..######..########..##...###....#..#####..#....#......####.......##.....####
####..######..############..#####......###....######......########..###........#
##.....#####.....#######....#####......###.....#####......#####.....###..#.....#
#......####........#.........###....#..##........##.......#..##.....###..#.....#
#......#..#........#................#..##.........#...#####..#...........#...###
#......#..#........................##..##.........#...#......#...........#...#.#
#####..#...........................##..#######....#..........#..##...#...#...#.#
#..........................###....##.........#....#..........#..#...##...#####.#
#............................#...###.........#........#......#.....###.........#
#####...........#....#.......######....##.............####...#....#####........#
###########.....#....#.......######....##........###.....#...#...######.......##
#############...######.....#########..##############.....#####..#########.....##
#..#########.....#####..#########.....################..######......#####.....##
#...##########..######..#....#..#.....################.....##...........##.....#
#....########....#####..#....#..#...........##########.....##...........###....#
#.......#####....#####..#....#..#...........##.....######..##....#####..###....#
#.......######..######..#....#..#......#....##......##.....##....#####..###....#
#....#..........######..###..#..#......#....##.......#.....##....###....###....#
#....#.......................#..#####..#.....#.......#..#........###....###....#
#....#..#####................#.........##...............#........###....##.....#
#....#..########..####.......#.........##........##.....#####.....#######......#
######..#####......###.....#####..#########.....###.....######.....#####......##
####....#####......#####..######......#####.....################...#####..######
#........####......#####..#####.......#..##.....###........#####.....###..#...##
#...........#......#####..#...#...#####..#.................######.....##..#...##
#...........############..#...#...#......#.................#######....##..#...##
#.................######..#...#..........#..##...###..###..#######....##..#...##
#......###.............#..#...#..........#..#...####..###......###....##..#...##
#........#..#..........#..#.......#......#.....####....##.......##.............#
##.......####....####..#..#.......####...#....#####.....#####...##.............#
##.......####....####..#..#..###.....#...#...######......#####...#...#####..####
################################################################################
```
